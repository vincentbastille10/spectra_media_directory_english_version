{% extends "base.html" %}

{% block head_extra %}
<!-- JSON-LD: SoftwareApplication for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "{{ tool.name|e }}",
  "applicationCategory": "AI Tool",
  "operatingSystem": "Web",
  "url": "{{ tool.website_url|e }}",
  "description": "{{ tool.short_description|e }}{% if tool.long_description %} {{ tool.long_description|e }}{% endif %}",
  "keywords": "{{ tool.tags|e }}",
  "publisher": {
    "@type": "Organization",
    "name": "Spectra Media AI",
    "url": "https://spectramedia.ai"
  }
}
</script>
{% endblock %}


{% block content %}

<div style="
  background: var(--card);
  padding: 2rem;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255,255,255,0.06);
">

  <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: .75rem;">
    {{ tool.name }}
    {% if tool.is_featured %}
      <span style="
        color: gold;
        font-size: 1.3rem;
        margin-left: .4rem;
      ">★</span>
    {% endif %}
  </h1>

  <p style="color: var(--muted); font-size: 1rem; margin-bottom: 1rem;">
    {{ tool.short_description }}
  </p>

  {% if tool.long_description %}
  <p style="margin-bottom: 1.3rem; line-height: 1.55;">
    {{ tool.long_description }}
  </p>
  {% endif %}

  {# ============================================================
     Revenue Map badges
     tool.revenue_tags peut être une string ex: "sales,automation"
     ou une liste; on teste par inclusion.
  ============================================================ #}
  {% set rev = tool.revenue_tags or '' %}
  {% if rev %}
    <div class="compat-badges" style="margin-bottom: 1.25rem;">
      {% if "sales" in rev %}
        <span class="compat-badge compat-badge--sales"
              title="Helps you generate direct revenue (leads, closing, upsell)">
          Sales
        </span>
      {% endif %}
      {% if "automation" in rev %}
        <span class="compat-badge compat-badge--automation"
              title="Automates work and reduces operational costs">
          Automation
        </span>
      {% endif %}
      {% if "marketing" in rev %}
        <span class="compat-badge compat-badge--marketing"
              title="Improves reach, traffic and conversions">
          Marketing
        </span>
      {% endif %}
      {% if "support" in rev %}
        <span class="compat-badge compat-badge--support"
              title="Improves support, retention and reduces churn">
          Support
        </span>
      {% endif %}
      {% if "analytics" in rev %}
        <span class="compat-badge compat-badge--analytics"
              title="Better decisions through analytics and insights">
          Analytics
        </span>
      {% endif %}
      {% if "finance" in rev %}
        <span class="compat-badge compat-badge--finance"
              title="Optimises cash-flow, invoicing and financial control">
          Finance
        </span>
      {% endif %}
    </div>
  {% endif %}

  <div style="margin-bottom: 1.5rem; display: flex; flex-direction: column; gap: .35rem;">
    <div><strong>Category:</strong> {{ tool.category }}</div>
    {% if tool.target_audience %}
      <div><strong>Target audience:</strong> {{ tool.target_audience }}</div>
    {% endif %}
    {% if tool.tags %}
      <div><strong>Tags:</strong> {{ tool.tags }}</div>
    {% endif %}
    {% if tool.pricing %}
      <div><strong>Pricing:</strong> {{ tool.pricing }}</div>
    {% endif %}
  </div>

  <a href="{{ tool.website_url }}" target="_blank" rel="noopener"
     style="
        display: inline-block;
        padding: .75rem 1.25rem;
        border-radius: 999px;
        background: var(--accent);
        color: white;
        font-weight: 600;
        text-align: center;
        transition: .18s;
     ">
    Visit Website →
  </a>

</div>

{% endblock %}
